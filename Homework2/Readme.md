# Homework 2 :  Discrete-Event Simulation Assignment

## IDS6938-Simulation Techniques - [University of Central Florida](http://www.ist.ucf.edu/grad/)

### Olivia Newton
The assignment is due: **Tuesday, March 28 at 11:59PM (EST)** | Requesting 1 extra day (new due data is March 29th)

Major parts for the Assignment

* Empirical Tests of Randomness
* Snakes and Ladders (Discrete Event Markov Chains and Monte Carlo Simulations)
* Discrete Event Simulation - Queue Simulation
* Composing a final report

## Part 1: Empirical Tests of Randomness (20 pts).
###### Step A
- Random number engines: Mersenne Twister, Knuth-B, Minimal Standard, Ranlux, and Sobol
- Raw output of the engines is stored in file *HW2_Part1_StepA.xlsx* (raw results sheet) in the Homework 2 folder
- Descriptive statistics for each engine are provided in table 1

| Table 1. Descriptive Statistics |
| ------------- |
| ![](images/table1.png?raw=true)  |

- Random number engine ouput included aggregated data, specifically counts of the discrete values generated by each engine
- This frequency data was used to construct histograms with x-axis bins in incremements of 10 (figures 1 and 2)
-- Incremements of 10 was a relatively arbitrary choice. The incremement amount used for the bins was inconsequential to the shape of the histogram as illustrated in figure 3.
- Looking at the histograms we can see that all of the values were (for the most part) equally, or **uniformly**, sampled

| Figure 1. Pseudo-Random Number Generators  |
| ------------- |
| ![](images/pseudorandom.png?raw=true)  |

| Figure 2. Quasi-Random Number Generator  |
| ------------- |
| ![](images/quasisobol.png?raw=true)  |


| Figure 3. Pseudo-Random Number Generators - 1 and 20 increments |
| ------------- |
| ![](images/pseudorandom-1.png?raw=true)  |

- Spearman's correlation was run to assess the relationship between the engines' raw output
- Very weak correlation between each engine output (e.g., Mersenne & Minimal Standard, *r*~s~ = -.003,) and they failed to reach significance...
- ...except for one of the correlations...accidentally included output from a sixth random number engine, default random engine, in my analyses
-- Weak negative correlation between Ranlux and Default was statistically significant (*r*~s~ = -.008, *p* = .008)

| Table 2. Spearman's Correlation |
| ------------- |
| ![](images/table2.png?raw=true)  |

- Ran two one-sample Kolmogorov-Smirnov tests to assess the distribution of each engine output
- Looking at the last row of table 3, the p-value for each engine is significant
-- The engine outputs **do not** have an approximate normal distribution (Lee, Famoye, Shelden, & Brown, n.d.)

| Table 3. Testing for Distribution - Normal Distribution |
| ------------- |
| ![](images/table3.png?raw=true)  |

- Conversely, the p-values in the uniform distribution table fail to reach significance
-- So we **can not** say that the data **does not** have a uniform distribution

| Table 4. Testing for Distribution - Uniform Distribution |
| ------------- |
| ![](images/table4.png?raw=true)  |


- The data is uniform
-- Can visually assess the uniformity of the data by looking at the histogram graphs, adjusting the incremement in the x-axis does not affect the general pattern of the data - it is uniform
-- Can statistically assess the uniformity of the data by examining the results of Kolmogorov test presented in tables 3 and 4

###### Step B
- Decreased N from 100,000
	-- *N* = 1000

| Table 5. Descriptive Statistics |
| ------------- |
| ![](images/table5.png?raw=true)  |

- Decreasing N does not seem to affect the output when analyzed using the methods detailed in the 'Step A' section
- Figures 4 and 5 present histograms of the output when *N* = 1000

| Figure 4. Pseudo-Random Number Generators  |
| ------------- |
| ![](images/randomN-1000.png?raw=true)  |


| Figure 5. Quasi-Random Number Generator  |
| ------------- |
| ![](images/sobolN-1000.png?raw=true)  |

- Figure 6 is the histogram for Mersenne Twister and Knuth-B when *N* = 500


| Figure 6. Pseudo-Random Number Generators  |
| ------------- |
| ![](images/randomN-500.png?raw=true)  |

- One-sample Kolmogorov-Smirnov test results provide evidence that the distribution of each engine output is a uniform distribution

| Table 6. Testing for Distribution - Normal and Uniform |
| ------------- |
| ![](images/table6.png?raw=true)  |


###### Step C
* Selected random engine: Mersenne Twister
* Selected distributions: Normal, Poisson, Binomial, Uniform (Real), Uniform (Integer)
-- Descriptive statistics found in table 7 and histograms in figure 7
-- Minimum and maximum values in addition to standard deviation are very different for the Normal, Poisson, and Binomial distributions relative to the two Uniform distributions
-- Means are similiar across the five distributions

| Table 7. Descriptive Statistics |
| ------------- |
| ![](images/table7.png?raw=true)  |


| Figure 7. Mersenne Twister Random Number Engine - 5 Distributions |
| ------------- |
| ![](images/5-dist.png?raw=true)  |

###### Step D

| Figure 8. Unit Square with 5 Random Number Engines' Output |
| ------------- |
| ![](images/figure8.png?raw=true)  |

###### Step E

* **(e)- 4pts:** Generate random numbers in two-dimensions for a unit square. Plot the results for the different distributions. The vertical axis should vary N in increasing order. The horizontal axis should show of the random number engines. (See [Random Numbers Webcourse page](https://webcourses.ucf.edu/courses/1246518/pages/random-numbers?module_item_id=10541423) for a rough idea what you should produce.)

NOT DONE YET

###### Step F
* **(f)- 4pts:** Repeat parts (d) and (e) with a unit circle.

NOT DONE YET

## Part 2 - Snakes and Ladders (Discrete Event Markov Chains and Monte Carlo Simulations) (30 pts)

| Moksha Patam  | Snakes and Ladders |
| ------------- | ------------- |
| ![](images/snake1.jpg?raw=true)  | ![](images/snake2.jpg?raw=true) |

##### Background
The classic game has 100 positions on the board. You toss one die, and move squares based on the result of the die. If you land on a ladder you move up the ladder to a higher numbered square. If you land on a snake's mouth, you descend to a lower numbered square. For purposes of simulation, we will add one extra square 0 (starting position). So there are 101 positions on the board. The game is **memoryless** - your progression to the next position is independent of how you arrived there (opposed to Blackjack or Candyland where your progression is based on what cards have been drawn). A Markov Chain defines the probability of a move from state *i* to state *j* by a **Transition Matrix**, *T*. So in the case of *Snakes and Ladders* the dimensions of a transition matrix is 101x101.

###### Step A
- Complete - see *TransitionMatrix.h*

###### Step B
* **(b) Simulate and analyze the results of Null State Game - 10pts:** What is the modal number of moves required by a single player to finish the game?
> Question restated: What is the most common number of moves required by a single player to finish a game?

* We will be simulating the game two different ways.
> Mode will be extracted from two different simulations, Markov Chain and Monto Carlo, to answer the previous question.

###### B1 Markov Chain
* **(1) Markov Chain** (For this part (1) use the *Markov project* in the Snake and Ladders starter code): The game can be analyzed with a row vector, *v* with 101 components, representing the probabilities that the player is on each of the positions. V(0) is (1,0,0,...,0) since we know we start at square 0. v evolves by: <BR>![](images/prob.png?raw=true)<BR>
> Produce graphs, show how game evolves over time
> Plot useful stats such as:
> * percentage chance of finishing the game in n-moves
> * cumulative probability of finishing game in n-moves (cdf?)
> * other ways to convey useful info about results

###### B2 Monte Carlo
* **(2) Monte Carlo**: he will will use a monte carlo process to solve our Discrete Time Markov Chains. Here (2) use the DTMC project, and utilize the DTMC method similar to what we did in class.
> Produce graphs, show how game evolves over time
> Plot useful stats such as:
> * percentage chance of finishing the game in n-moves
> * cumulative probability of finishing game in n-moves (cdf?)
> * other ways to convey useful info about results


* **(c) Simulate and analyze the results of Snakes and Ladders -10pts:**  Construct a new transition matrix based on the table:

Ladders From  | Ladders To | |  Snakes From  | Snakes To 
-------- | -------- | ------------- | -------- | -------- 
3|19| |11|7
15|37| |18|13
22|42| |28|12
25|64| |36|34
41|73| |77|16
53|74| |47|26
63|86| |83|39
76|91| |92|75
84|98| |99|70

Run the same simulation and analyze your results similar to part (b) for the proper game of *Snakes and Ladders* for both methods. How often are the snakes and ladders used, how do the probability of finishing change, etc? What is the maximum and expected amount of moves for the game? Use charts and graphs to illustrate these points.

* **(d) Think - 0pts:** If these games are built entirely on chance, do they require any strategy? Is it really a *game*, would you rather play games of chance or games of strategy?

## Part 3 - Discrete Event Simulation - Queue Simulation (30 pts)

This problem will look at queues and commonly used performance measures. For this problem we will look to design a simple airport security check. We will make the following assumptions: (1) there is only one airline - Southwest; (2) passengers' interarrival times are independent and identically distributed (IID) with an exponential distribution with mean 1 / lambda. The service times are also assumed to be IID and exponentially distributed random variables with mean 1 / mu.

<BR>![](images/queue.png?raw=true)<BR>
When a passanger arrives they have to wait in a queue to present their ID and ticket to the gate agent with all the other passengers. Once approved by the agent they will have to pass through a security check. Since this is Orlando, there are only 3 open metal/screening devices open and again passangers have to wait in a queue. After passing through security you again have to wait in a queue to board your plane.

###### Step A
* Complete - see *main.cpp*

###### Step B
* Complete - see *main.cpp*

###### Step C
* Complete - see *mm1_queue.cpp*

###### Step D
*  **(d) - 4pts:** Write code to call the functions to output and generate data from the airport senario. Plot and analyze the useful statistics/results in the program of your choice.  (Hint -  basically call  *.output();* on the MM1_Queue objects you create. Hint2 - two other use functions are *get_current_time()* and  *plot_results_output()* call intially on your intial MM1_Queue object.)



###### Step E
* **(e) - 15pts:** Download the personal edition of **[Anylogic](http://www.anylogic.com/)**, read through the [documentation](http://www.anylogic.com/learn-simulation) as needed, and set up the same type of simulation discussed above.

>* Extra Features: Add a 2D visualization to AnyLogic **(10 pts)**

##Part 4 - Implementing Extra Features (10 pts)

Implementing 2 features on the extra features list. Pick any feature on the "*extra features*" list below to customize your assignment to fit your interests. Please document this in your writeup. (*Note: These should total 10pts. You could successfully implement a feature worth 10pts or greater. This also fulfills this requirement. The features are assigned points based on difficulty. The 5pt features are more straightforward.*)

##Extra Features (Extra Credit - 25pts)

>* *Add a 3D visualization to AnyLogic
>
You have to implement two features from this list for Part 4. You may choose any two features you wish from this list. (Please explicitly note them in your *Readme.md*)

If you feel like going beyond the scope of the assignment, you should consider implementing more of the following extra features. *Get the assignment working without them first.* You can get a maximum of 25 points in extra credit. Simply implementing these things doesn't guarantee you a 25; you really need to go above and beyond to get the full amount. (*The instructor reserves the right to hand out extra credit as his he sees fit.*)

* **(5 Points)** - Implement and compare Halton, Hammersley, (Or another quasi method) Quasi sequences and add them to your analysis for appropriate subparts of Part 1.

* **(5 Points)** - Implement different distributions inside the Quasi random sequences and add them to your analysis for appropriate subparts of Part 1.

* **(5 Points)** - Implement and compare another (advanced) psedo random sequences and add them to your analysis for all subparts of Part 1 (Examples include: [PCG](http://www.pcg-random.org/), or [Random123](https://github.com/DEShawResearch/Random123-Boost)).

* **(20 Points)** - Complete Part 2 with a different board game. Construct the game's transition matrix, simulate the game, and analyze the results (Run the game past the instructor).

* **(20 Points)** - Complete Part 2 with a 3D version of Snakes and Ladders. Construct the game's transition matrix, simulate the game, and analyze the results.

* **(10 Points)** - Provide code in (Python, R, Matlab...) that demonstrates an animation of the board itself evolving overtime for Snakes in Ladder for part 2. 

* **(10 Points)** - Add a 2D visualization to AnyLogic for Part 3.

* **(10 Points)** - Add a 3D visualization to AnyLogic for Part 3.

* **(5 Points)** - Pick a research problem (from your dissertation, Energy Microgrids, Missle Defence...). Compare and contrast different software packages (AnyLogic, Simio, Simulu8, Arena etc). Convince me as your "manager/advisor" what advantages, weaknesses, and costs each program has. Come to a conclusion. Roughly sketch out how you would formulate the problem in the framework.

* **(10 Points)** - Create an Anylogic simulation for Part 2 - Snakes and Ladders.

* **(10 Points)** - Setup another resource allocation / queueing problem related to your research in Anylogic with a basic visualization

* **(10 Points)** - Setup up SmartGrid or a Microgrid System that creates resources of power from wind, solar, and electric grid. Set up various devices in your house to draw power. [Reference 1](http://www.sciencedirect.com/science/article/pii/S1877050916301740),   [Reference 2](http://www.tandfonline.com/doi/full/10.1080/19401493.2013.866695?src=recsys&).

* **(25 Points)** - Set up a discrete simulation of your choice that uses an approved real-time data source and visualizes the results. (See instructor for approval).

* **(N Points)** - You are welcome to make suggestions for a feature of your own choosing, but they must be approved by instructor before implementing.

##References


Lee, C., Famoye, F., Shelden, B., & Brown, A. (n.d.). Nonparametric Methods. Retrieved March 17, 2017, from http://calcnet.mth.cmich.edu/org/spss/StaProcNonp.htm



